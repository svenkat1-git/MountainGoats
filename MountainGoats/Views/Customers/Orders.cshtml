@model MountainGoatsBikes.Models.OrdersViewModel

@{
    ViewData["Title"] = "Orders for " + Model.CustomerName;
}

<h2>Customer: @Model.CustomerName</h2>
<h3>Orders</h3>

@if (Model.Orders == null || !Model.Orders.Any())
{
<p>No orders found for this customer.</p>
}
else
{
 <!-- Loop through each order -->
@foreach (var order in Model.Orders)
    {
<div class="mt-3 mb-3">
    <!-- Display order summary in a row-like layout -->
    <div class="bg-light p-2">
        <strong>Order Number:</strong> @order.OrderId &nbsp;
        <strong>Date:</strong> @order.OrderDate.ToShortDateString() &nbsp;
        <strong>Order total:</strong> @order.OrderTotal.ToString("C")
    </div>

    <!-- Table of items for this order -->
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Item ID</th>
                <th>Item Name</th>
                <th>Quantity</th>
                <th>Unit price</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in order.Items)
                    {
            <tr>
                <td>@item.ItemId</td>
                <td>@item.ProductName</td>
                <td>@item.Quantity</td>
                <td>@item.ListPrice.ToString("C")</td>
            </tr>
                    }
        </tbody>
    </table>
</div>
    }
}
